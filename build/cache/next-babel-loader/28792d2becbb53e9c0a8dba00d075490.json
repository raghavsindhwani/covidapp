{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/raghavsindhwani/Desktop/officalcovidapp/covidapplication/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport LoginPageView from '../views/LoginPageView';\nimport { http, storage } from '../modules';\n\nvar LoginPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  var _super = _createSuper(LoginPage);\n\n  function LoginPage() {\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isLoading: false,\n      userVerificationScreen: false,\n      isValidField: true,\n      username: '',\n      password: ''\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onInputChange\", function (payload) {\n      _this.setState(_objectSpread(_objectSpread({}, _this.state), payload));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onUserVerificationSubmit\", function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        isLoading: true\n      }, _this.verifiedUserName);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"verifiedUserName\", function () {\n      var username = _this.state.username;\n      http.userEmailVerification({\n        username: username\n      }).then(function () {\n        _this.setState({\n          isLoading: false,\n          userVerificationScreen: true,\n          isValidField: true\n        });\n      })[\"catch\"](function () {\n        _this.setState({\n          isLoading: false,\n          isValidField: false\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPasswordVerificationSubmit\", function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        isLoading: true\n      }, function () {\n        var password = _this.state.password;\n        http.userPasswordVerification({\n          password: password\n        }).then(function (res) {\n          var _res$payload = res.payload,\n              token = _res$payload.token,\n              user = _res$payload.user;\n          storage.token.set(token);\n          storage.userInfo.set(user);\n\n          _this.props.Router.push('/dashboard');\n        })[\"catch\"](function () {\n          _this.setState({\n            isLoading: false,\n            isValidField: false\n          });\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(LoginPageView, _extends({}, this.state, {\n        onInputChange: this.onInputChange,\n        onUserVerificationSubmit: this.onUserVerificationSubmit,\n        verifiedUserName: this.verifiedUserName,\n        onPasswordVerificationSubmit: this.onPasswordVerificationSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport { LoginPage as default };","map":{"version":3,"sources":["/home/raghavsindhwani/Desktop/officalcovidapp/covidapplication/pages/index.js"],"names":["React","LoginPageView","http","storage","LoginPage","isLoading","userVerificationScreen","isValidField","username","password","payload","setState","state","e","preventDefault","verifiedUserName","userEmailVerification","then","userPasswordVerification","res","token","user","set","userInfo","props","Router","push","onInputChange","onUserVerificationSubmit","onPasswordVerificationSubmit","Component"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,YAA9B;;IAEqBC,S;;;;;;;;;;;;;;;;4DAET;AACJC,MAAAA,SAAS,EAAE,KADP;AAEJC,MAAAA,sBAAsB,EAAE,KAFpB;AAGJC,MAAAA,YAAY,EAAE,IAHV;AAIJC,MAAAA,QAAQ,EAAE,EAJN;AAKJC,MAAAA,QAAQ,EAAE;AALN,K;;oEASQ,UAACC,OAAD,EAAa;AACzB,YAAKC,QAAL,iCAAmB,MAAKC,KAAxB,GAAkCF,OAAlC;AACH,K;;+EAE0B,UAACG,CAAD,EAAO;AAC9BA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,QAAL,CAAc;AAAEN,QAAAA,SAAS,EAAE;AAAb,OAAd,EAAmC,MAAKU,gBAAxC;AAEH,K;;uEAEkB,YAAM;AAAA,UACbP,QADa,GACA,MAAKI,KADL,CACbJ,QADa;AAErBN,MAAAA,IAAI,CAACc,qBAAL,CAA2B;AAAER,QAAAA,QAAQ,EAARA;AAAF,OAA3B,EAAyCS,IAAzC,CAA8C,YAAM;AAEhD,cAAKN,QAAL,CAAc;AAAEN,UAAAA,SAAS,EAAE,KAAb;AAAoBC,UAAAA,sBAAsB,EAAE,IAA5C;AAAkDC,UAAAA,YAAY,EAAE;AAAhE,SAAd;AAEH,OAJD,WAIS,YAAM;AACX,cAAKI,QAAL,CAAc;AAAEN,UAAAA,SAAS,EAAE,KAAb;AAAoBE,UAAAA,YAAY,EAAE;AAAlC,SAAd;AACH,OAND;AAOH,K;;mFAE8B,UAACM,CAAD,EAAO;AAClCA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKH,QAAL,CAAc;AAAEN,QAAAA,SAAS,EAAE;AAAb,OAAd,EAAmC,YAAM;AAAA,YAE7BI,QAF6B,GAEhB,MAAKG,KAFW,CAE7BH,QAF6B;AAGrCP,QAAAA,IAAI,CAACgB,wBAAL,CAA8B;AAAET,UAAAA,QAAQ,EAARA;AAAF,SAA9B,EAA4CQ,IAA5C,CAAiD,UAAEE,GAAF,EAAW;AAAA,6BAEhCA,GAAG,CAACT,OAF4B;AAAA,cAEhDU,KAFgD,gBAEhDA,KAFgD;AAAA,cAEzCC,IAFyC,gBAEzCA,IAFyC;AAGxDlB,UAAAA,OAAO,CAACiB,KAAR,CAAcE,GAAd,CAAmBF,KAAnB;AACAjB,UAAAA,OAAO,CAACoB,QAAR,CAAiBD,GAAjB,CAAsBD,IAAtB;;AAEA,gBAAKG,KAAL,CAAWC,MAAX,CAAkBC,IAAlB,CAAuB,YAAvB;AAEH,SARD,WAQS,YAAM;AACX,gBAAKf,QAAL,CAAc;AAAEN,YAAAA,SAAS,EAAE,KAAb;AAAoBE,YAAAA,YAAY,EAAE;AAAlC,WAAd;AACH,SAVD;AAYH,OAfD;AAiBH,K;;;;;;;6BAEQ;AACL,aACI,MAAC,aAAD,eACQ,KAAKK,KADb;AAEI,QAAA,aAAa,EAAE,KAAKe,aAFxB;AAGI,QAAA,wBAAwB,EAAE,KAAKC,wBAHnC;AAII,QAAA,gBAAgB,EAAE,KAAKb,gBAJ3B;AAKI,QAAA,4BAA4B,EAAG,KAAKc,4BALxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AASH;;;;EA/DkC7B,KAAK,CAAC8B,S;;SAAxB1B,S","sourcesContent":["import React from 'react';\nimport LoginPageView from '../views/LoginPageView';\nimport { http, storage } from '../modules';\n\nexport default class LoginPage extends React.Component {\n\n    state = {\n        isLoading: false,\n        userVerificationScreen: false,\n        isValidField: true,\n        username: '',\n        password: ''\n    }\n\n\n    onInputChange = (payload) => {\n        this.setState({ ...this.state, ...payload });\n    }\n\n    onUserVerificationSubmit = (e) => {\n        e.preventDefault();\n        this.setState({ isLoading: true }, this.verifiedUserName);\n\n    }\n\n    verifiedUserName = () => {\n        const { username } = this.state;\n        http.userEmailVerification({ username }).then(() => {\n\n            this.setState({ isLoading: false, userVerificationScreen: true, isValidField: true });\n\n        }).catch(() => {\n            this.setState({ isLoading: false, isValidField: false });\n        });\n    }\n\n    onPasswordVerificationSubmit = (e) => {\n        e.preventDefault();\n        this.setState({ isLoading: true }, () => {\n\n            const { password } = this.state;\n            http.userPasswordVerification({ password }).then(( res ) => {\n\n                const { token, user } = res.payload;\n                storage.token.set( token );\n                storage.userInfo.set( user );\n\n                this.props.Router.push('/dashboard');\n    \n            }).catch(() => {\n                this.setState({ isLoading: false, isValidField: false });\n            });\n\n        });\n\n    }\n\n    render() {\n        return (\n            <LoginPageView\n                {...this.state}\n                onInputChange={this.onInputChange}\n                onUserVerificationSubmit={this.onUserVerificationSubmit}\n                verifiedUserName={this.verifiedUserName}\n                onPasswordVerificationSubmit={ this.onPasswordVerificationSubmit }\n            />\n        );\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}